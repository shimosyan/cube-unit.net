<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{{ if not .IsHome }}{{ .Title }} - {{ end }}{{ .Site.Title }}{{ if and (.IsHome) (.Description) }} - {{ .Description }}{{ end }}</title>
    <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">

    <link rel="canonical" href="{{ .Permalink }}" />

    <!-- Open Graph -->
    <meta property="og:locale" content="ja_JP">
    <meta property="og:type" content="{{ if .IsHome }}website{{ else }}article{{ end }}">
    <meta property="og:title" content="{{ if not .IsHome }}{{ .Title }} - {{ end }}{{ .Site.Title }}">
    <meta property="og:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:site_name" content="{{ .Site.Title }}">

    <meta property="og:image" content="{{ if .Params.image }}{{ .Params.image }}{{ else }}https://img.cube-unit.net/uploads/2024/01/favicon.png{{ end }}" />
	<meta property="og:image:width" content="700" />
	<meta property="og:image:height" content="700" />
	<meta property="og:image:type" content="image/{{ if .Params.image }}{{ if eq (path.Ext .Params.image) ".png" }}png{{ else }}jpeg{{ end }}{{ else }}png{{ end }}" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@cube_unit">

    <!-- Favicon -->
    <link rel="icon" href="https://img.cube-unit.net/uploads/2024/01/cropped-favicon-32x32.png" sizes="32x32" />
    <link rel="icon" href="https://img.cube-unit.net/uploads/2024/01/cropped-favicon-192x192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="https://img.cube-unit.net/uploads/2024/01/cropped-favicon-180x180.png" />
    <meta name="msapplication-TileImage" content="https://img.cube-unit.net/uploads/2024/01/cropped-favicon-270x270.png" />

    <!-- Font Awesome (Self-hosted) -->
    {{ $fontAwesome := resources.Get "css/all.min.css" }}
    {{ if $fontAwesome }}
        {{ $fontAwesome = $fontAwesome | fingerprint }}
        <link rel="stylesheet" href="{{ $fontAwesome.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/all.min.css">
    {{ end }}

    <!-- Main Stylesheets -->
    {{ $mainStyle := resources.Get "css/style.css" }}
    {{ if $mainStyle }}
        {{ $mainStyle = $mainStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $mainStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/style.css">
    {{ end }}

    {{ $pcStyle := resources.Get "css/style_pc.css" }}
    {{ if $pcStyle }}
        {{ $pcStyle = $pcStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $pcStyle.RelPermalink }}" media="screen and (min-width: 771px)">
    {{ else }}
        <link rel="stylesheet" href="/css/style_pc.css" media="screen and (min-width: 771px)">
    {{ end }}

    {{ $spStyle := resources.Get "css/style_sp.css" }}
    {{ if $spStyle }}
        {{ $spStyle = $spStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $spStyle.RelPermalink }}" media="screen and (max-width: 770px)">
    {{ else }}
        <link rel="stylesheet" href="/css/style_sp.css" media="screen and (max-width: 770px)">
    {{ end }}

    <!-- Additional Stylesheets with individual fingerprinting -->
    {{ $japaneseStyle := resources.Get "css/japanese.css" }}
    {{ if $japaneseStyle }}
        {{ $japaneseStyle = $japaneseStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $japaneseStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/japanese.css">
    {{ end }}

    {{ $blocksStyle := resources.Get "css/wordpress-blocks.css" }}
    {{ if $blocksStyle }}
        {{ $blocksStyle = $blocksStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $blocksStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/wordpress-blocks.css">
    {{ end }}

    {{ $customLinksStyle := resources.Get "css/custom-links.css" }}
    {{ if $customLinksStyle }}
        {{ $customLinksStyle = $customLinksStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $customLinksStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/custom-links.css">
    {{ end }}

    {{ $flexsliderStyle := resources.Get "css/flexslider.css" }}
    {{ if $flexsliderStyle }}
        {{ $flexsliderStyle = $flexsliderStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $flexsliderStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/flexslider.css">
    {{ end }}

    {{ $cookieStyle := resources.Get "css/cookie-law-info-public.css" }}
    {{ if $cookieStyle }}
        {{ $cookieStyle = $cookieStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $cookieStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/cookie-law-info-public.css">
    {{ end }}

    {{ $cookieGdprStyle := resources.Get "css/cookie-law-info-gdpr.css" }}
    {{ if $cookieGdprStyle }}
        {{ $cookieGdprStyle = $cookieGdprStyle | fingerprint }}
        <link rel="stylesheet" href="{{ $cookieGdprStyle.RelPermalink }}">
    {{ else }}
        <link rel="stylesheet" href="/css/cookie-law-info-gdpr.css">
    {{ end }}

    <!-- Feed -->
    <link rel="alternate" type="application/rss+xml" title="{{ .Site.Title }} RSS Feed" href="{{ .Site.BaseURL }}index.xml">

    {{ block "head" . }}{{ end }}
</head>
<body>
    {{ partial "header.html" . }}

    <main>
        {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}
    {{ partial "cookie-consent.html" . }}
    {{ partial "analytics.html" . }}

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    {{ $rolloverJs := resources.Get "js/rollover.js" }}
    {{ if $rolloverJs }}
        {{ $rolloverJs = $rolloverJs | fingerprint }}
        <script src="{{ $rolloverJs.RelPermalink }}"></script>
    {{ else }}
        <script src="/js/rollover.js"></script>
    {{ end }}

    {{ $jscriptJs := resources.Get "js/jscript.js" }}
    {{ if $jscriptJs }}
        {{ $jscriptJs = $jscriptJs | fingerprint }}
        <script src="{{ $jscriptJs.RelPermalink }}"></script>
    {{ else }}
        <script src="/js/jscript.js"></script>
    {{ end }}

    {{ $cookieJs := resources.Get "js/cookie-law-info-public.js" }}
    {{ if $cookieJs }}
        {{ $cookieJs = $cookieJs | fingerprint }}
        <script src="{{ $cookieJs.RelPermalink }}"></script>
    {{ else }}
        <script src="/js/cookie-law-info-public.js"></script>
    {{ end }}

    {{ block "scripts" . }}{{ end }}
</body>
</html>
